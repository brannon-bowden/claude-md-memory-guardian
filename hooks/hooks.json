{
  "SessionStart": [
    {
      "hooks": [
        {
          "type": "command",
          "command": "cat CLAUDE.md 2>/dev/null || true"
        }
      ]
    }
  ],
  "UserPromptSubmit": [
    {
      "hooks": [
        {
          "type": "command",
          "command": "if [ -f CLAUDE.md ]; then sed -n '/<!-- CORE -->/,/<!-- \\/CORE -->/p' CLAUDE.md | grep -v '<!-- \\?/\\?CORE -->'; fi"
        }
      ]
    }
  ],
  "Stop": [
    {
      "hooks": [
        {
          "type": "command",
          "command": "response=$(cat); if ! echo \"$response\" | grep -q '\\[✓ rules\\]' && [ -f CLAUDE.md ]; then echo '⚠️ MEMORY ALERT: Signal missing.' && echo '' && echo 'Required actions:' && echo '1. Re-read the project rules below' && echo '2. Review your previous response for rule violations' && echo '3. Resume with [✓ rules] on future responses' && echo '' && cat CLAUDE.md; fi"
        }
      ]
    }
  ]
}
